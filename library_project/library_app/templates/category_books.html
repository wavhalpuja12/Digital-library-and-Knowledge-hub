{% extends 'base.html' %}

{% block content %}

<div class="container">

    <h2 class="mb-4">
        {{ category.name }} Books
    </h2>


    <div class="row">

        {% if books %}

            {% for book in books %}

                <div class="col-md-3">

                    <div class="card mb-3 shadow-sm">

                        {% if book.image %}

                            <img src="{{ book.image.url }}"
                                 class="card-img-top">

                        {% endif %}


                        <div class="card-body">

                            <h6>
                                {{ book.title }}
                            </h6>


                            <p class="text-muted">
                                {{ book.author }}
                            </p>


                            <!-- View Details -->

                            <a href="{% url 'book_detail' book.id %}"
                               class="btn btn-primary btn-sm">

                               View Details

                            </a>



                            <!-- Like Button -->

                            {% if user in book.liked_by.all %}

                                <a href="{% url 'like_book' book.id %}"
                                   class="btn btn-danger btn-sm">

                                   üíî Unlike

                                </a>

                            {% else %}

                                <a href="{% url 'like_book' book.id %}"
                                   class="btn btn-outline-danger btn-sm">

                                   ‚ù§Ô∏è Like

                                </a>

                            {% endif %}


                        </div>

                    </div>

                </div>


            {% endfor %}


        {% else %}

            <p>No books available in this category.</p>

        {% endif %}

    </div>


</div>


{% endblock %}